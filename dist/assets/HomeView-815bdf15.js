import{g as b,_ as S,u as P,r as y,o as w,a as x,c as D,b as u,d as m,p as E,e as _,f as T}from"./index-e9cc6f63.js";import{_ as A}from"./logo-380a25f9.js";import{i as k}from"./typed.module-baa693b0.js";var M=function(t){var e=t-this.previousTimeStamp>100,i=this.states[this.activeState].loop!==void 0?this.states[this.activeState].loop:!0,s,n,o;(this.previousTimeStamp===null||e)&&(this.previousTimeStamp=t),this.progress=this.progress+(t-this.previousTimeStamp),s=(this.progress/this.activetransitionSpeed*100).toFixed(2),this.previousTimeStamp=t,this.refreshColorsAndPos(s),s<100?this.animation=requestAnimationFrame(this.animateColors.bind(this)):this.channelsIndex<this.states[this.activeState].gradients.length-2||i?(this.isChangingState&&(this.activetransitionSpeed=this.states[this.activeState].transitionSpeed||5e3,this.isChangingState=!1),this.previousTimeStamp=null,this.progress=0,this.channelsIndex++,n=!1,this.channelsIndex===this.states[this.activeState].gradients.length-1?n=!0:this.channelsIndex===this.states[this.activeState].gradients.length&&(this.channelsIndex=0),o=this.states[this.activeState].gradients[this.channelsIndex+1]===void 0?this.states[this.activeState].gradients[0]:this.states[this.activeState].gradients[this.channelsIndex+1],this.setColors(),this.animation=requestAnimationFrame(this.animateColors.bind(this)),this.callbacks.onGradientChange&&this.callbacks.onGradientChange({isLooping:n,colorsFrom:this.states[this.activeState].gradients[this.channelsIndex],colorsTo:o,activeState:this.activeState}),this.canvas.dispatchEvent(this.events.gradientChange({isLooping:n,colorsFrom:this.states[this.activeState].gradients[this.channelsIndex],colorsTo:o,activeState:this.activeState}))):(cancelAnimationFrame(this.animation),this.callbacks.onEnd&&this.callbacks.onEnd(),this.canvas.dispatchEvent(new CustomEvent("granim:end")))},N=function(t){this.context.clearRect(0,0,this.x1,this.y1),this.context.globalCompositeOperation=this.image.blendingMode=t,this.validateInput("blendingMode"),this.isPaused&&this.refreshColorsAndPos()},L=function(t){this.context.clearRect(0,0,this.x1,this.y1),this.direction=t,this.validateInput("direction"),this.isPaused&&this.refreshColorsAndPos()},V=function(t){var e=this;this.activeState!==t&&(this.isPaused||(this.isPaused=!0,this.pause()),this.channelsIndex=-1,this.activetransitionSpeed=this.stateTransitionSpeed,this.activeColorsDiff=[],this.activeColorsPosDiff=[],this.activeColors=this.getCurrentColors(),this.activeColorsPos=this.getCurrentColorsPos(),this.progress=0,this.previousTimeStamp=null,this.isChangingState=!0,this.states[t].gradients[0].forEach(function(i,s,n){var o=e.convertColorToRgba(e.getColor(i)),a=e.getColorPos(i,s),h=e.getColorDiff(e.activeColors[s],o),c=e.getColorPosDiff(e.activeColorsPos[s],a);e.activeColorsDiff.push(h),e.activeColorsPosDiff.push(c)}),this.activeState=t,this.play())},O=function(){this.isPaused?this.isPaused=!1:cancelAnimationFrame(this.animation),this.isCleared=!0,this.context.clearRect(0,0,this.x1,this.y1)},p={hexa:/^#(?:[0-9a-fA-F]{3}){1,2}$/,rgba:/^rgba\((\d{1,3}), ?(\d{1,3}), ?(\d{1,3}), ?(.?\d{1,3})\)$/,rgb:/^rgb\((\d{1,3}), ?(\d{1,3}), ?(\d{1,3})\)$/,hsla:/^hsla\((\d{1,3}), ?(\d{1,3})%, ?(\d{1,3})%, ?(.?\d{1,3})\)$/,hsl:/^hsl\((\d{1,3}), ?(\d{1,3})%, ?(\d{1,3})%\)$/},l,F=function(t){switch(W(t)){default:this.triggerError("colorType");case"hexa":return R(t);case"rgba":return[parseInt(l[1],10),parseInt(l[2],10),parseInt(l[3],10),parseFloat(l[4])];case"rgb":return[parseInt(l[1],10),parseInt(l[2],10),parseInt(l[3],10),1];case"hsla":return C(parseInt(l[1],10)/360,parseInt(l[2],10)/100,parseInt(l[3],10)/100,parseFloat(l[4]));case"hsl":return C(parseInt(l[1],10)/360,parseInt(l[2],10)/100,parseInt(l[3],10)/100,1)}};function W(t){var e=Object.keys(p),i=0;for(i;i<e.length;i++)if(l=p[e[i]].exec(t),l)return e[i];return!1}function R(t){var e=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;t=t.replace(e,function(s,n,o,a){return n+n+o+o+a+a});var i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return i?[parseInt(i[1],16),parseInt(i[2],16),parseInt(i[3],16),1]:null}function v(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+(e-t)*6*i:i<1/2?e:i<2/3?t+(e-t)*(2/3-i)*6:t}function C(t,e,i,s){var n,o,a,h,c;return e===0?n=o=a=i:(h=i<.5?i*(1+e):i+e-i*e,c=2*i-h,n=v(c,h,t+1/3),o=v(c,h,t),a=v(c,h,t-1/3)),[Math.round(n*255),Math.round(o*255),Math.round(a*255),s]}var B=function(){this.onResize("removeListeners"),this.onScroll("removeListeners"),this.clear()},G=function(){if(typeof window.CustomEvent=="function")return;function t(e,i){i=i||{bubbles:!1,cancelable:!1,detail:void 0};var s=document.createEvent("CustomEvent");return s.initCustomEvent(e,i.bubbles,i.cancelable,i.detail),s}t.prototype=window.Event.prototype,window.CustomEvent=t},H=function(t){if(typeof t=="string")return t;if(typeof t=="object"&&t.color)return t.color;this.triggerError("gradient.color")},z=function(t,e){var i=0,s=[];for(i;i<4;i++)s.push(e[i]-t[i]);return s},$=function(t,e){return typeof t=="object"&&t.pos?t.pos:parseFloat(e?(1/(this.gradientLength-1)*e).toFixed(2):0)},j=function(t,e){return e-t},q=function(){var t,e,i=[];for(t=0;t<this.currentColors.length;t++)for(i.push([]),e=0;e<4;e++)i[t].push(this.currentColors[t][e]);return i},U=function(){var t=[],e;for(e=0;e<this.currentColorsPos.length;e++)t.push(this.currentColorsPos[e]);return t},J=function(){this.x1=this.canvas.offsetWidth,this.y1=this.canvas.offsetHeight},K=function(t){if(t instanceof HTMLCanvasElement)this.canvas=t;else if(typeof t=="string")this.canvas=document.querySelector(t);else throw new Error("The element you used is neither a String, nor a HTMLCanvasElement");if(!this.canvas)throw new Error("`"+t+"` could not be found in the DOM")},Q=function(){var t=this.getCurrentColors(),e=null,i,s,n=t.map(function(o){return Math.max(o[0],o[1],o[2])});for(s=0;s<n.length;s++)e=e===null?n[s]:e+n[s],s===n.length-1&&(i=Math.round(e/(s+1)));return i>=128?"light":"dark"},X=function(){var t=this.setDirection(),e=document.querySelector(this.elToSetClassOn).classList,i=0;for(this.context.clearRect(0,0,this.x1,this.y1),this.image&&this.context.drawImage(this.imageNode,this.imagePosition.x,this.imagePosition.y,this.imagePosition.width,this.imagePosition.height),i;i<this.currentColors.length;i++)t.addColorStop(this.currentColorsPos[i],"rgba("+this.currentColors[i][0]+", "+this.currentColors[i][1]+", "+this.currentColors[i][2]+", "+this.currentColors[i][3]+")");this.name&&(this.getLightness()==="light"?(e.remove(this.name+"-dark"),e.add(this.name+"-light")):(e.remove(this.name+"-light"),e.add(this.name+"-dark"))),this.context.fillStyle=t,this.context.fillRect(0,0,this.x1,this.y1)},Y=function(t){if(t==="removeListeners"){window.removeEventListener("resize",this.setSizeAttributesNameSpace);return}window.addEventListener("resize",this.setSizeAttributesNameSpace)},Z=function(t){if(t==="removeListeners"){window.removeEventListener("scroll",this.pauseWhenNotInViewNameSpace);return}window.addEventListener("scroll",this.pauseWhenNotInViewNameSpace),this.pauseWhenNotInViewNameSpace()},tt=function(t){var e=t==="isPausedBecauseNotInView";this.isCleared||(e||(this.isPaused=!0),cancelAnimationFrame(this.animation),this.animating=!1)},et=function(){var t=this;this.scrollDebounceTimeout&&clearTimeout(this.scrollDebounceTimeout),this.scrollDebounceTimeout=setTimeout(function(){var e=t.canvas.getBoundingClientRect();if(t.isCanvasInWindowView=!(e.bottom<0||e.right<0||e.left>window.innerWidth||e.top>window.innerHeight),t.isCanvasInWindowView){if(!t.isPaused||t.firstScrollInit){if(t.image&&!t.isImgLoaded)return;t.isPausedBecauseNotInView=!1,t.play("isPlayedBecauseInView"),t.firstScrollInit=!1}}else!t.image&&t.firstScrollInit&&(t.refreshColorsAndPos(),t.firstScrollInit=!1),!t.isPaused&&!t.isPausedBecauseNotInView&&(t.isPausedBecauseNotInView=!0,t.pause("isPausedBecauseNotInView"))},this.scrollDebounceThreshold)},it=function(t){var e=t==="isPlayedBecauseInView";e||(this.isPaused=!1),this.isCleared=!1,this.animating||(this.animation=requestAnimationFrame(this.animateColors.bind(this)),this.animating=!0)},st=function(){var t=this;if(this.imagePosition||(this.imagePosition={x:0,y:0,width:0,height:0}),this.image.blendingMode&&(this.context.globalCompositeOperation=this.image.blendingMode),this.imageNode){e();return}this.imageNode=new Image,this.imageNode.onerror=function(){throw new Error("Granim: The image source is invalid.")},this.imageNode.onload=function(){t.imgOriginalWidth=t.imageNode.width,t.imgOriginalHeight=t.imageNode.height,e(),t.refreshColorsAndPos(),(!t.isPausedWhenNotInView||t.isCanvasInWindowView)&&(t.animation=requestAnimationFrame(t.animateColors.bind(t))),t.isImgLoaded=!0},this.imageNode.src=this.image.source;function e(){var i,s;for(i=0;i<2;i++)s=i?"y":"x",n(s);function n(o){var a=t[o+"1"],h=t[o==="x"?"imgOriginalWidth":"imgOriginalHeight"],c=o==="x"?t.image.position[0]:t.image.position[1],f;switch(c){case"center":f=h>a?-(h-a)/2:(a-h)/2,t.imagePosition[o]=f,t.imagePosition[o==="x"?"width":"height"]=h;break;case"top":t.imagePosition.y=0,t.imagePosition.height=h;break;case"bottom":t.imagePosition.y=a-h,t.imagePosition.height=h;break;case"right":t.imagePosition.x=a-h,t.imagePosition.width=h;break;case"left":t.imagePosition.x=0,t.imagePosition.width=h;break}if(t.image.stretchMode)switch(c=o==="x"?t.image.stretchMode[0]:t.image.stretchMode[1],c){case"none":break;case"stretch":t.imagePosition[o]=0,t.imagePosition[o==="x"?"width":"height"]=a;break;case"stretch-if-bigger":if(h<a)break;t.imagePosition[o]=0,t.imagePosition[o==="x"?"width":"height"]=a;break;case"stretch-if-smaller":if(h>a)break;t.imagePosition[o]=0,t.imagePosition[o==="x"?"width":"height"]=a;break}}}},ot=function(t){var e=this,i,s,n,o;for(n=0;n<this.activeColors.length;n++){for(o=0;o<4;o++)i=e.activeColors[n][o]+(o!==3?Math.ceil(e.activeColorsDiff[n][o]/100*t):Math.round(e.activeColorsDiff[n][o]/100*t*100)/100),i<=255&&i>=0&&(e.currentColors[n][o]=i);s=parseFloat((e.activeColorsPos[n]+e.activeColorsPosDiff[n]/100*t).toFixed(4)),s<=1&&s>=0&&(e.currentColorsPos[n]=s)}this.makeGradient()},nt=function(){var t=this,e,i,s,n;if(this.channels[this.activeState]||(this.channels[this.activeState]=[]),this.channels[this.activeState][this.channelsIndex]!==void 0){this.activeColors=this.channels[this.activeState][this.channelsIndex].colors,this.activeColorsDiff=this.channels[this.activeState][this.channelsIndex].colorsDiff,this.activeColorsPos=this.channels[this.activeState][this.channelsIndex].colorsPos,this.activeColorsPosDiff=this.channels[this.activeState][this.channelsIndex].colorsPosDiff;return}this.channels[this.activeState].push([{}]),this.channels[this.activeState][this.channelsIndex].colors=[],this.channels[this.activeState][this.channelsIndex].colorsDiff=[],this.channels[this.activeState][this.channelsIndex].colorsPos=[],this.channels[this.activeState][this.channelsIndex].colorsPosDiff=[],this.activeColors=[],this.activeColorsDiff=[],this.activeColorsPos=[],this.activeColorsPosDiff=[],this.states[this.activeState].gradients[this.channelsIndex].forEach(function(c,a){var h=t.getColorPos(c,a),c=t.getColor(c),f=t.convertColorToRgba(c),d=t.channels[t.activeState];d[t.channelsIndex].colors.push(f),t.activeColors.push(f),d[t.channelsIndex].colorsPos.push(h),t.activeColorsPos.push(h),t.isCurrentColorsSet||(t.currentColors.push(t.convertColorToRgba(c)),t.currentColorsPos.push(h)),t.channelsIndex===t.states[t.activeState].gradients.length-1?(e=t.getColorDiff(d[t.channelsIndex].colors[a],d[0].colors[a]),i=t.getColorPosDiff(d[t.channelsIndex].colorsPos[a],d[0].colorsPos[a])):(s=t.convertColorToRgba(t.getColor(t.states[t.activeState].gradients[t.channelsIndex+1][a])),n=t.getColorPos(t.states[t.activeState].gradients[t.channelsIndex+1][a],a),e=t.getColorDiff(d[t.channelsIndex].colors[a],s),i=t.getColorPosDiff(d[t.channelsIndex].colorsPos[a],n)),d[t.channelsIndex].colorsDiff.push(e),t.activeColorsDiff.push(e),d[t.channelsIndex].colorsPosDiff.push(i),t.activeColorsPosDiff.push(i)}),this.activetransitionSpeed=this.states[this.activeState].transitionSpeed||5e3,this.isCurrentColorsSet=!0},at=function(){var t=this.context;switch(this.direction){case"diagonal":return t.createLinearGradient(0,0,this.x1,this.y1);case"left-right":return t.createLinearGradient(0,0,this.x1,0);case"top-bottom":return t.createLinearGradient(this.x1/2,0,this.x1/2,this.y1);case"radial":return t.createRadialGradient(this.x1/2,this.y1/2,this.x1/2,this.x1/2,this.y1/2,0);case"custom":return t.createLinearGradient(g(this.customDirection.x0,this.x1),g(this.customDirection.y0,this.y1),g(this.customDirection.x1,this.x1),g(this.customDirection.y1,this.y1))}};function g(t,e){return t.indexOf("%")>-1?e/100*parseInt(t.split("%")[0],10):parseInt(t.split("px")[0],10)}var rt=function(){this.getDimensions(),this.canvas.setAttribute("width",this.x1),this.canvas.setAttribute("height",this.y1),this.image&&this.prepareImage(),this.refreshColorsAndPos()},ht=function(t){var e="https://sarcadass.github.io/granim.js/api.html";throw new Error('Granim: Input error on "'+t+`" option.
Check the API `+e+".")},ct=function(t){var e=["left","center","right"],i=["top","center","bottom"],s=["none","stretch","stretch-if-smaller","stretch-if-bigger"],n=["multiply","screen","normal","overlay","darken","lighten","lighter","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],o=["diagonal","left-right","top-bottom","radial","custom"];switch(t){case"image":(!Array.isArray(this.image.position)||this.image.position.length!==2||e.indexOf(this.image.position[0])===-1||i.indexOf(this.image.position[1])===-1)&&this.triggerError("image.position"),this.image.stretchMode&&(!Array.isArray(this.image.stretchMode)||this.image.stretchMode.length!==2||s.indexOf(this.image.stretchMode[0])===-1||s.indexOf(this.image.stretchMode[1])===-1)&&this.triggerError("image.stretchMode");break;case"blendingMode":n.indexOf(this.image.blendingMode)===-1&&(this.clear(),this.triggerError("blendingMode"));break;case"direction":o.indexOf(this.direction)===-1?this.triggerError("direction"):this.direction==="custom"&&(lt([this.customDirection.x0,this.customDirection.x1,this.customDirection.y0,this.customDirection.y1])||this.triggerError("customDirection"));break}};function lt(t){for(var e=!0,i=0,s;e&&i<t.length;){if(s=t[i],typeof s!="string")e=!1;else{var n=null,o=null;s.indexOf("px")!==-1&&(o="px"),s.indexOf("%")!==-1&&(o="%"),n=s.split(o).filter(function(a){return a.length>0}),(!o||n.length>2||!n[0]||n[1]||!/^-?\d+\.?\d*$/.test(n[0]))&&(e=!1)}i++}return e}function r(t){this.getElement(t.element),this.x1=0,this.y1=0,this.name=t.name||!1,this.elToSetClassOn=t.elToSetClassOn||"body",this.direction=t.direction||"diagonal",this.customDirection=t.customDirection||{},this.validateInput("direction"),this.isPausedWhenNotInView=t.isPausedWhenNotInView||!1,this.states=t.states,this.stateTransitionSpeed=t.stateTransitionSpeed||1e3,this.previousTimeStamp=null,this.progress=0,this.isPaused=!1,this.isCleared=!1,this.isPausedBecauseNotInView=!1,this.context=this.canvas.getContext("2d"),this.channels={},this.channelsIndex=0,this.activeState=t.defaultStateName||"default-state",this.isChangingState=!1,this.currentColors=[],this.currentColorsPos=[],this.activetransitionSpeed=null,this.eventPolyfill(),this.scrollDebounceThreshold=t.scrollDebounceThreshold||300,this.scrollDebounceTimeout=null,this.isImgLoaded=!1,this.isCanvasInWindowView=!1,this.firstScrollInit=!0,this.animating=!1,this.gradientLength=this.states[this.activeState].gradients[0].length,t.image&&t.image.source&&(this.image={source:t.image.source,position:t.image.position||["center","center"],stretchMode:t.image.stretchMode||!1,blendingMode:t.image.blendingMode||!1}),this.events={start:new CustomEvent("granim:start"),end:new CustomEvent("granim:end"),gradientChange:function(e){return new CustomEvent("granim:gradientChange",{detail:{isLooping:e.isLooping,colorsFrom:e.colorsFrom,colorsTo:e.colorsTo,activeState:e.activeState},bubbles:!1,cancelable:!1})}},this.callbacks={onStart:typeof t.onStart=="function"?t.onStart:!1,onGradientChange:typeof t.onGradientChange=="function"?t.onGradientChange:!1,onEnd:typeof t.onEnd=="function"?t.onEnd:!1},this.getDimensions(),this.canvas.setAttribute("width",this.x1),this.canvas.setAttribute("height",this.y1),this.setColors(),this.image&&(this.validateInput("image"),this.prepareImage()),this.pauseWhenNotInViewNameSpace=this.pauseWhenNotInView.bind(this),this.setSizeAttributesNameSpace=this.setSizeAttributes.bind(this),this.onResize(),this.isPausedWhenNotInView?this.onScroll():this.image||(this.refreshColorsAndPos(),this.animation=requestAnimationFrame(this.animateColors.bind(this)),this.animating=!0),this.callbacks.onStart&&this.callbacks.onStart(),this.canvas.dispatchEvent(this.events.start)}r.prototype.animateColors=M;r.prototype.changeBlendingMode=N;r.prototype.changeDirection=L;r.prototype.changeState=V;r.prototype.clear=O;r.prototype.convertColorToRgba=F;r.prototype.destroy=B;r.prototype.eventPolyfill=G;r.prototype.getColor=H;r.prototype.getColorDiff=z;r.prototype.getColorPos=$;r.prototype.getColorPosDiff=j;r.prototype.getCurrentColors=q;r.prototype.getCurrentColorsPos=U;r.prototype.getDimensions=J;r.prototype.getElement=K;r.prototype.getLightness=Q;r.prototype.makeGradient=X;r.prototype.onResize=Y;r.prototype.onScroll=Z;r.prototype.pause=tt;r.prototype.pauseWhenNotInView=et;r.prototype.play=it;r.prototype.prepareImage=st;r.prototype.refreshColorsAndPos=ot;r.prototype.setColors=nt;r.prototype.setDirection=at;r.prototype.setSizeAttributes=rt;r.prototype.triggerError=ht;r.prototype.validateInput=ct;var dt=r,ut=dt;const ft=b(ut);const I=t=>(E("data-v-7ea35b19"),t=t(),_(),t),gt={class:"head"},vt=I(()=>u("img",{class:"logo inCanvas",src:A},null,-1)),mt=I(()=>u("div",{class:"introduction"},null,-1)),pt={class:"buttonSet inCanvas"},Ct={__name:"introductionHead",setup(t){const e=P(),i=y(null);return w(()=>{const s=i.value;s.width=window.innerWidth,s.height=window.innerHeight*.913,new ft({element:i.value,direction:"left-right",isPausedWhenNotInView:!0,states:{"default-state":{gradients:[["#ff9966","#ff5e62"],["#00F260","#0575E6"],["#e1eec3","#f05053"],["#9D50BB","#6E48AA"],["#4776E6","#8E54E9"],["#FF4E50","#F9D423"]],transitionSpeed:800}}}),new k(".introduction",{strings:["一个基于BILSTM的谣言检测模型"],typeSpeed:100,cursorChar:""})}),(s,n)=>(x(),D("div",gt,[u("canvas",{id:"logoCanvas",ref_key:"logoCanvas",ref:i},null,512),vt,mt,u("div",pt,[u("div",{id:"buttonA",onClick:n[0]||(n[0]=o=>m(e).push("use"))},"开始使用"),u("div",{id:"buttonB",onClick:n[1]||(n[1]=o=>m(e).push("example"))},"查看示例")])]))}},Pt=S(Ct,[["__scopeId","data-v-7ea35b19"]]),St={__name:"HomeView",setup(t){return P(),(e,i)=>(x(),T(Pt))}};export{St as default};
